{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/js/model.js","webpack:///./src/js/view/view.js","webpack:///./src/js/view/sideView.js","webpack:///./src/js/view/tasksView.js","webpack:///./src/js/controller.js"],"sourcesContent":["export const state = {\r\n    task: { \r\n        title: '',\r\n        details: '',\r\n        date: '',\r\n        priority: '',\r\n        checked: '',\r\n    },\r\n    project: {\r\n        title: '',\r\n        id: '',\r\n        tasks: [],\r\n    },\r\n    projects: [\r\n        {\r\n            title: 'All Tasks',\r\n            id: 'allTasks',\r\n            tasks: [],\r\n            flag: 'home',\r\n        },\r\n        {\r\n            title: 'Today',\r\n            id: 'today',\r\n            flag: 'home',\r\n            tasks: []\r\n        },\r\n        {\r\n            title: 'Next 7 Days',\r\n            id: 'week',\r\n            flag: 'home',\r\n            tasks: []\r\n        },\r\n    ],\r\n};\r\n\r\n\r\nexport function addProject(projectTitle) {\r\n    // const project = {\r\n    //     title: projectTitle,\r\n    //     id: Date.now().toString(),\r\n    //     tasks: [],\r\n    // };\r\n    state.project = {\r\n        title: projectTitle,\r\n        id: Date.now().toString(),\r\n        tasks: [],\r\n    }\r\n    const newProject = Object.assign({}, state.project);\r\n    state.projects.push(newProject);\r\n\r\n    saveDatalocal();\r\n}\r\n\r\nexport function addTasks(taskData) {\r\n    state.task = { \r\n        title: taskData[0],\r\n        details: taskData[1],\r\n        date: taskData[2],\r\n        priority: taskData[3],\r\n        projectId: taskData[5],\r\n        checked: false,\r\n    };\r\n    const newTask = Object.assign({}, state.task);\r\n    \r\n    state.projects.find(project => project.id === window.location.hash.slice(1)).tasks.push(newTask);\r\n\r\n    saveDatalocal();\r\n}\r\n\r\nexport function checkTask(data) {\r\n    const taskForCheck = state.projects.find(project => project.id === window.location.hash.slice(1))\r\n    .tasks\r\n    .find((task, i) => i == data);\r\n    taskForCheck.checked = !taskForCheck.checked;\r\n\r\n    saveDatalocal();\r\n}\r\n\r\nexport function editTask(data) {\r\n    const task = state.projects.find(project => project.id === window.location.hash.slice(1)).tasks.find((task, i) => i == data[4]);\r\n    task.title = data[0];\r\n    task.details = data[1];\r\n    task.date = data[2];\r\n    task.priority = data[3];\r\n    state.task = task;\r\n\r\n    saveDatalocal();\r\n}\r\n\r\nexport function editProject(data) {\r\n    const project = state.projects.find(project => project.id === data[1]);\r\n    project.title = data[0];\r\n    state.project = project;\r\n\r\n    saveDatalocal();\r\n}\r\n\r\nexport function removeTask(projectId, taskId) {\r\n    state.projects.find(project => project.id === projectId).tasks.splice(taskId, 1);\r\n    saveDatalocal();\r\n}\r\n\r\nexport function removeProject(projectId) {\r\n    state.projects.splice(findProjectIndex(projectId), 1);\r\n\r\n    saveDatalocal();\r\n}\r\n\r\nexport function AddHomeTasks() {\r\n    addAllTasks();\r\n    addTodayTasks();\r\n    addWeekTasks();\r\n    saveDatalocal();\r\n}\r\n\r\nfunction saveDatalocal() {\r\n    localStorage.setItem('projects', JSON.stringify(state.projects));\r\n}\r\n\r\nfunction addAllTasks() {\r\n    state.projects[findProjectIndex('allTasks')].tasks = state.projects.filter(project => project.flag !== 'home').flatMap(project => project.tasks);\r\n}\r\n\r\nfunction addTodayTasks() {\r\n    state.projects[findProjectIndex('today')].tasks = state.projects[findProjectIndex('allTasks')].tasks.filter(task => task.date === new Date().toISOString().split('T')[0]);\r\n}\r\n\r\nfunction addWeekTasks() {\r\n    state.projects[findProjectIndex('week')].tasks = state.projects[findProjectIndex('allTasks')].tasks.filter(task => task.date <= new Date(new Date().setDate(new Date().getDate() + 7)).toISOString().split('T')[0] && task.date >= new Date().toISOString().split('T')[0]);\r\n}\r\n\r\nfunction findProjectIndex(index) {\r\n    return state.projects.findIndex(project => project.id === index);\r\n}\r\n\r\nfunction init() {\r\n    const storage = localStorage.getItem('projects');\r\n    if (storage) state.projects = JSON.parse(storage);\r\n}\r\ninit();","export class View {\r\n    // _data;\r\n\r\n    _closeForm() {\r\n        this._addHidden('.formAdd');\r\n        this._clearInput();\r\n    }\r\n\r\n    _openForm() {\r\n        this._removeHidden('.formAdd');\r\n        this._parentEl.querySelector('.input').focus();\r\n    }\r\n\r\n    _clearInput() {\r\n        this._parentEl.querySelectorAll('.input').forEach(input => {\r\n            input.value = '';\r\n        });\r\n    }\r\n\r\n    _addHidden(selector) {\r\n        return this._parentEl.querySelector(selector)?.classList.add('hidden');\r\n    }\r\n\r\n    _removeHidden(selector) {\r\n        return this._parentEl.querySelector(selector)?.classList.remove('hidden');\r\n    }\r\n\r\n    _dropdown() {\r\n        document.addEventListener('click', function(e) {\r\n            const menu = e.target.closest('.edit');\r\n            if (!menu) {\r\n                document.querySelectorAll('.edit__options').forEach(el => {\r\n                    el.classList.add('hidden');\r\n                });\r\n                return;\r\n            };\r\n            document.querySelectorAll('.edit__options').forEach(el => {\r\n                el.classList.add('hidden');\r\n            });\r\n            menu.querySelector('.edit__options').classList.toggle('hidden');\r\n        });\r\n    }\r\n\r\n    \r\n    _openEdit(e) {\r\n        this.moveFormEdit();\r\n        const todo = e.target.closest('li');\r\n        const form = this._parentEl.querySelector('.formEdit');\r\n        form.classList.remove('hidden');\r\n        todo.classList.add('hidden');\r\n        this._container.appendChild(form);\r\n        this._container.insertBefore(form, todo);\r\n        this._selected = todo.id;\r\n    }\r\n\r\n    render(data) {\r\n        this._data = data;\r\n        const markup = this._generateMarkup();\r\n        this._container.insertAdjacentHTML('beforeend', markup);\r\n    }\r\n\r\n    addHandler(handler) {\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('form-btn__add')) return;\r\n            handler();\r\n            this._closeForm();\r\n        }.bind(this));\r\n    }\r\n\r\n    moveFormEdit() {\r\n        this._removeHidden('li.hidden');\r\n        this._addHidden('.formEdit');\r\n        this._parentEl.appendChild(this._parentEl.querySelector('.formEdit'));\r\n    }\r\n\r\n    addHandlerEdit(handler) {\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('form-btn__edit')) return;\r\n            handler();\r\n            this.moveFormEdit();\r\n            this._closeForm();\r\n        }.bind(this));\r\n    }\r\n} ","import { View } from \"./view\";\r\n\r\nclass SideView extends View {\r\n    _data;\r\n    _parentEl = document.querySelector('.side-bar');\r\n    _container = this._parentEl.querySelector('.projects');\r\n    _selected;\r\n\r\n    constructor() {\r\n        super();\r\n        this._parentEl.querySelector('.form-btn__cancel').addEventListener('click', function() {\r\n            this._closeForm()\r\n            this.moveFormEdit();\r\n        }.bind(this));\r\n        this._parentEl.querySelector('.btn-open-form').addEventListener('click', function() {\r\n            this._openForm();\r\n            this.moveFormEdit();\r\n        }.bind(this));\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('edit__change')) return;\r\n            this._openEdit(e);\r\n            this._closeForm();\r\n        }.bind(this));\r\n        this._selectProject();\r\n        this._dropdown();\r\n        this._toggleSideBar();\r\n    }\r\n\r\n    _toggleSideBar() {\r\n        document.querySelector('.hide-side-bar').addEventListener('click', function() {\r\n            this._parentEl.classList.toggle('hidden');\r\n        }.bind(this));\r\n    }\r\n\r\n    getProjectData() {\r\n        return [this._parentEl.querySelector('.side-bar__input').value, this._selected];\r\n    }\r\n\r\n    addHandlerRemoveProject(handler) {\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('edit__delete')) return;\r\n            const project = e.target.closest('li');\r\n            handler(project.id);\r\n            project.remove()\r\n        }.bind(this));\r\n    }\r\n\r\n    renderAllProjects(data) {\r\n        this._data = data;\r\n        const markup = this._generateMarkupAll();\r\n        this._container.innerHTML = markup;\r\n    }\r\n\r\n\r\n    updateProject(data) {\r\n        this._data = data;\r\n        if (window.location.hash.slice(1) === this._data.id) {\r\n            document.querySelector('h1').textContent = this._data.title;\r\n        }\r\n        const newMarkup = this._generateMarkup();\r\n        const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n        const newEl = newDOM.querySelector('.side-bar__item-link');\r\n        const currentEl = document.getElementById(this._selected).querySelector('.side-bar__item-link');\r\n\r\n        if (!newEl.isEqualNode(currentEl)) currentEl.textContent = newEl.textContent;    \r\n    }\r\n\r\n    _selectProject() {\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('side-bar__item-link')) return;\r\n            this._parentEl.querySelectorAll('.side-bar__item').forEach(item => {\r\n                if (item.classList.contains('selected')) item.classList.remove('selected');\r\n            });\r\n            e.target.closest('.side-bar__item').classList.add('selected');\r\n        }.bind(this));\r\n    }\r\n\r\n    _generateMarkupAll() {\r\n        return this._data.map(project => {\r\n            if (project.flag === 'home') return;\r\n            return `\r\n            <li class=\"side-bar__item\" id=\"${project.id}\">\r\n                <a class=\"side-bar__item-link\" href=\"#${project.id}\">${project.title}</a>\r\n                <div class=\"edit\">\r\n                    <div class=\"edit__options hidden\">\r\n                        <button class=\"edit__delete\">Delete</button>\r\n                        <button class=\"edit__change\">Rename</button>\r\n                    </div>\r\n                    <button class=\"edit__open\"><img src=\"img/dots.svg\" alt=\"More button\"></button>\r\n                </div>\r\n            </li>`\r\n        }).join('');  \r\n    }\r\n\r\n    _generateMarkup() {\r\n        return `\r\n        <li class=\"side-bar__item\" id=\"${this._data.id}\">\r\n            <a class=\"side-bar__item-link\" href=\"#${this._data.id}\">${this._data.title}</a>\r\n            <div class=\"edit\">\r\n                <div class=\"edit__options hidden\">\r\n                    <button class=\"edit__delete\">Delete</button>\r\n                    <button class=\"edit__change\">Rename</button>\r\n                </div>\r\n                <button class=\"edit__open\"><img src=\"img/dots.svg\" alt=\"More button\"></button>\r\n            </div>\r\n        </li>`;        \r\n    }\r\n}\r\n\r\nexport default new SideView();\r\n","import { View } from \"./view\";\r\n\r\nclass TasksView extends View {\r\n    _data;\r\n    _parentEl = document.querySelector('.content');\r\n    _container = this._parentEl.querySelector('.todo-list');\r\n    _selected;\r\n    _id = 0;\r\n    clicked;\r\n\r\n    constructor() {\r\n        super();\r\n        document.querySelector('.side-bar').addEventListener('click', this.moveFormEdit.bind(this));\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (e.target.classList.contains('form-btn__cancel')) {\r\n                this._closeForm();\r\n                this.moveFormEdit();\r\n            }\r\n            if (e.target.classList.contains('btn-open-form')) {\r\n                this._openForm();\r\n                this.moveFormEdit();\r\n            }\r\n            if (e.target.classList.contains('edit__change')) {\r\n                this._openEdit(e);\r\n                this._closeForm();\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    addHandlerFinishTask(handler) {\r\n        document.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('todo__complete')) return;\r\n            const todo = e.target.closest('.todo');\r\n            todo.querySelector('.todo__text').classList.toggle('checked');\r\n            this.clicked = todo.id;\r\n            handler();\r\n        }.bind(this));\r\n    }\r\n\r\n    renderEmpty() {\r\n        this._addHidden('.btn-open-form');\r\n        this._container.innerHTML = '';\r\n        this._parentEl.querySelector('h1').textContent = 'NO DATA';\r\n    }\r\n\r\n    renderAllTasks(data) {\r\n        this._data = data;\r\n        const markup = this._generateMarkupAll();\r\n        this._parentEl.querySelector('h1').textContent = data.title;\r\n        this._container.innerHTML = markup;\r\n        this._removeHidden('.btn-open-form');\r\n        if(this._data.id !== 'allTasks'\r\n        && this._data.id !== 'today'\r\n        && this._data.id !== 'week') return;\r\n        this._addHidden('.btn-open-form');\r\n    }\r\n\r\n    addHandlerRemoveTask(handler) {\r\n        this._parentEl.addEventListener('click', function(e) {\r\n            if (!e.target.classList.contains('edit__delete')) return;\r\n            const todo = e.target.closest('.todo');\r\n            handler(todo.dataset.projectId, todo.id);\r\n            todo.remove();\r\n            this._parentEl.querySelectorAll('.todo').forEach(task => {\r\n                if (task.id > todo.id) task.id -= 1;\r\n            });\r\n        }.bind(this));\r\n    }\r\n\r\n    loadTasksHandler(handler) {\r\n        window.addEventListener('hashchange', function() {\r\n            handler();\r\n        });\r\n    }\r\n    \r\n    updateTask(data) {\r\n        this._data = data;\r\n        const newMarkup = this._generateMarkup();\r\n        if (this._id) this._id--;\r\n        const newDOM = document.createRange().createContextualFragment(newMarkup);\r\n        newDOM.querySelector('li').id = this._selected;\r\n        const newEls = Array.from(newDOM.querySelector('li').querySelectorAll('*'));\r\n        const currentEls = Array.from(document.getElementById(this._selected).querySelectorAll('*'));\r\n\r\n        // Replace priority class\r\n        currentEls[0].closest('li').classList.replace(currentEls[0].closest('li').className.split(' ')[1], newEls[0].closest('li').className.split(' ')[1]);\r\n\r\n        newEls.forEach((newEl, i) => {\r\n            const currentEl = currentEls[i];\r\n            if (!newEl.isEqualNode(currentEl)\r\n            && newEl.firstChild?.nodeValue.trim() !== '') currentEl.textContent = newEl.textContent;\r\n        });\r\n    }\r\n\r\n    getTask() {\r\n        const data = ['title', 'details', 'date', 'priority'].map(el => this._parentEl.querySelector(`.todo-form__${el}`).value);\r\n        data.push(this._selected);\r\n        data.push(window.location.hash.slice(1));\r\n        return data;\r\n    }\r\n\r\n    _generateMarkupAll() {\r\n        this._id =  this._data.tasks.length;\r\n        return this._data.tasks.map((task, i) => {\r\n            return `\r\n            <li class=\"todo priority-${task.priority === '2' ? 'high' : task.priority === '1' ? 'medium' : 'low'}\" id=\"${i}\" data-project-id=\"${task.projectId}\">\r\n                <label>\r\n                    <input class=\"todo__complete\" type=\"checkbox\" ${task.checked ? 'checked' : ''}>\r\n                </label>\r\n                <div class=\"todo__text ${task.checked ? 'checked' : ''}\">\r\n                    <h3 class=\"todo__title\">${task.title}</h3>\r\n                    <p class=\"todo__details\">${task.details}</p>\r\n                </div>\r\n                <time class=\"todo__date\">${task.date}</time>\r\n                <div class=\"edit\">\r\n                    <div class=\"edit__options hidden\">\r\n                        <button class=\"edit__delete\">Delete</button>\r\n                        <button class=\"edit__change\">Edit</button>\r\n                    </div>\r\n                    <button class=\"edit__open\"><img src=\"img/dots.svg\" alt=\"More button\"></button>\r\n                </div>\r\n            </li>\r\n            `\r\n        }).join('');\r\n    }\r\n\r\n    _generateMarkup() {\r\n        const markup = `\r\n        <li class=\"todo priority-${this._data.priority === '2' ? 'high' : this._data.priority === '1' ? 'medium' : 'low'}\" id=\"${this._id}\" data-project-id=\"${this._data.projectId}\">\r\n            <label>\r\n                <input class=\"todo__complete\" type=\"checkbox\">\r\n            </label>\r\n            <div class=\"todo__text ${this._data.checked ? 'checked' : ''}\">\r\n                <h3 class=\"todo__title\">${this._data.title}</h3>\r\n                <p class=\"todo__details\">${this._data.details}</p>\r\n            </div>\r\n            <time class=\"todo__date\">${this._data.date}</time>\r\n            <div class=\"edit\">\r\n                <div class=\"edit__options hidden\">\r\n                    <button class=\"edit__delete\">Delete</button>\r\n                    <button class=\"edit__change\">Edit</button>\r\n                </div>\r\n                <button class=\"edit__open\"><img src=\"img/dots.svg\" alt=\"More button\"></button>\r\n            </div>\r\n        </li>\r\n        `;\r\n        this._id++;\r\n        return markup;\r\n    }\r\n}\r\n\r\nexport default new TasksView();\r\n","import '../scss/index.scss';\r\nimport * as model from './model';\r\nimport sideView from './view/sideView';\r\nimport tasksView from './view/tasksView';\r\n\r\nfunction launch() {\r\n    window.location.hash = '#allTasks';\r\n    const id = model.state.projects.find(project => project.id === window.location.hash.slice(1));\r\n    model.AddHomeTasks();\r\n    sideView.renderAllProjects(model.state.projects);\r\n    tasksView.renderAllTasks(id);\r\n}\r\n\r\nfunction controlAddProject() {\r\n    const data = sideView.getProjectData(); \r\n    if (!data[0].trim()) return; \r\n    model.addProject(data[0]);\r\n    sideView.render(model.state.project);\r\n}\r\n\r\nfunction controlAddTasks() {\r\n    const id = model.state.projects.find(project => project.id === window.location.hash.slice(1));\r\n    const data = tasksView.getTask();\r\n    model.addTasks(data);\r\n    tasksView.render(model.state.task);\r\n    model.AddHomeTasks();\r\n}\r\n\r\nfunction controlRemoveTask(projectId, taskId) {\r\n    model.removeTask(projectId, taskId);\r\n    model.AddHomeTasks();\r\n}\r\n\r\nfunction controlRemoveProject(projectId) {\r\n    tasksView.moveFormEdit();\r\n    model.removeProject(projectId);\r\n    model.AddHomeTasks();\r\n    const id = model.state.projects.find(project => project.id === window.location.hash.slice(1));\r\n    if (projectId === window.location.hash.slice(1)) tasksView.renderEmpty();\r\n    else tasksView.renderAllTasks(id);\r\n}\r\n\r\nfunction loadTasks() {\r\n    const id = model.state.projects.find(project => project.id === window.location.hash.slice(1));\r\n    tasksView.renderAllTasks(id);\r\n}\r\n\r\nfunction controlEditTask() {\r\n    const data = tasksView.getTask();\r\n    model.editTask(data);\r\n    const id = model.state.projects.find(project => project.id === window.location.hash.slice(1));\r\n    tasksView.updateTask(model.state.task);\r\n    model.AddHomeTasks();\r\n}\r\n\r\nfunction controlEditProject() {\r\n    model.editProject(sideView.getProjectData());\r\n    sideView.updateProject(model.state.project)\r\n}\r\n\r\nfunction finishTask() {\r\n    model.checkTask(tasksView.clicked);\r\n}\r\n\r\nfunction init() {\r\n    launch();\r\n    sideView.addHandler(controlAddProject);\r\n    sideView.addHandlerRemoveProject(controlRemoveProject);\r\n    sideView.addHandlerEdit(controlEditProject);\r\n    tasksView.addHandler(controlAddTasks);\r\n    tasksView.loadTasksHandler(loadTasks);\r\n    tasksView.addHandlerFinishTask(finishTask);\r\n    tasksView.addHandlerEdit(controlEditTask);\r\n    tasksView.addHandlerRemoveTask(controlRemoveTask);\r\n}\r\n\r\ninit();\r\n"],"names":["storage","state","task","title","details","date","priority","checked","project","id","tasks","projects","flag","AddHomeTasks","findProjectIndex","filter","flatMap","Date","toISOString","split","setDate","getDate","saveDatalocal","localStorage","setItem","JSON","stringify","index","findIndex","getItem","parse","View","_classCallCheck","key","value","this","_addHidden","_clearInput","_removeHidden","_parentEl","querySelector","focus","querySelectorAll","forEach","input","selector","_this$_parentEl$query","classList","add","_this$_parentEl$query2","remove","document","addEventListener","e","menu","target","closest","el","toggle","moveFormEdit","todo","form","_container","appendChild","insertBefore","_selected","data","_data","markup","_generateMarkup","insertAdjacentHTML","handler","contains","_closeForm","bind","_View","_inherits","SideView","_super","_this","_defineProperty","_assertThisInitialized","call","_openForm","_openEdit","_selectProject","_dropdown","_toggleSideBar","_generateMarkupAll","innerHTML","window","location","hash","slice","textContent","newMarkup","newEl","createRange","createContextualFragment","currentEl","getElementById","isEqualNode","item","map","concat","join","TasksView","clicked","dataset","projectId","_id","newDOM","newEls","Array","from","currentEls","replace","className","i","_newEl$firstChild","firstChild","nodeValue","trim","_this2","push","length","model","sideView","renderAllProjects","tasksView","renderAllTasks","launch","addHandler","getProjectData","projectTitle","now","toString","newProject","Object","assign","render","addHandlerRemoveProject","splice","renderEmpty","addHandlerEdit","find","updateProject","taskData","newTask","getTask","loadTasksHandler","addHandlerFinishTask","taskForCheck","updateTask","addHandlerRemoveTask","taskId"],"sourceRoot":""}